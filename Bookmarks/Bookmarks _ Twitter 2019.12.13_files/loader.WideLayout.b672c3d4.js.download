(window.webpackJsonp=window.webpackJsonp||[]).push([[186],{"0af8":function(e,t,n){"use strict";n.r(t),n.d(t,"roundToNearestDevicePixel",(function(){return O})),n.d(t,"default",(function(){return w}));var i=n("PJYZ"),o=n.n(i),r=n("VbXa"),a=n.n(r),s=n("lSNA"),c=n.n(s),d=n("ERkP"),l=n("n+l9"),u=n("7nmT"),p=n.n(u),h=n("Yib4"),f=n("aWzz"),m=n("jHwr"),v=n("rHpw"),_=n("jdj2"),y=n.n(_),b=n("3xO4"),g=n.n(b),O=function(e){var t=e.cssPixels,n=e.dpr;return Math.round(t*n)/n},w=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,c()(o()(i),"_setContentRef",(function(e){i._contentRef=p.a.findDOMNode(e)})),c()(o()(i),"_setContainerRef",(function(e){i._containerRef=p.a.findDOMNode(e)})),c()(o()(i),"_handleProgrammaticScroll",(function(e){i._prevScrollY=(i._prevScrollY||0)+e,i.setState({contentOffset:Math.max(0,i.state.contentOffset+e)})})),c()(o()(i),"_handleLayout",(function(e){var t=e.nativeEvent.layout.height>i.state.contentHeight;i._updatePositioning(t)})),i.state={stickyTop:!0,stickyThreshold:0,contentOffset:0,contentHeight:0,stickyOffset:0,position:l.b()?"sticky":"static"},i._scheduleUpdatePositioning=Object(m.a)(i._updatePositioning.bind(o()(i)),window.requestAnimationFrame),i}a()(t,e);var n=t.prototype;return n.UNSAFE_componentWillMount=function(){var e=this.context.viewport;this._removeProgrammaticScrollListener=e.addProgrammaticScrollListener(this._handleProgrammaticScroll)},n.componentDidMount=function(){var e=this.context.viewport;this._updatePositioning(),this._removeScrollListener=e.addScrollListener(this._scheduleUpdatePositioning);var t=this._containerRef.getBoundingClientRect(),n=e.scrollY();this._prevScrollY=n,this.setState({stickyOffset:n+t.top})},n.componentWillUnmount=function(){this._removeScrollListener&&this._removeScrollListener(),this._removeProgrammaticScrollListener&&this._removeProgrammaticScrollListener()},n.render=function(){var e=this.state,t=e.stickyTop,n=e.stickyThreshold,i=e.contentOffset,o=e.position,r=E[o],a=window.devicePixelRatio||1,s=O({cssPixels:n,dpr:a}),c=O({cssPixels:i,dpr:a}),l={top:t?s+"px":null,bottom:t?null:s+"px"};return d.createElement(g.a,{ref:this._setContainerRef,style:[E.container,{minHeight:this.state.contentHeight}]},d.createElement(g.a,{style:{marginTop:c+"px"}}),d.createElement(g.a,{onLayout:this._handleLayout,ref:this._setContentRef,style:[this.props.style,l,r]},this.props.children))},n._updatePositioning=function(e){if(void 0===e&&(e=!1),this._contentRef&&this._containerRef){var t=this.context.viewport.scrollY(),n=t-this._prevScrollY;if(!(Math.abs(n)<.5)||e){var i=this.props.distanceFromBottom;this._prevScrollY=t;var o=this._contentRef.getBoundingClientRect(),r=this._containerRef.getBoundingClientRect(),a=y.a.get("window").height,s=t+r.top,c=Math.max(o.top-r.top,0);if(a-o.height>s&&!Object(h.a)())this._updateState({stickyTop:!0,stickyThreshold:s,contentOffset:0,stickyOffset:s,contentHeight:o.height,position:"fixed"});else{var d=n>0,u=d!==this.state.stickyTop,p=window.devicePixelRatio||1,f=o.bottom-a+i<=1/p,m=s-o.top<=1/p;if((d&&f||!d&&m)&&l.a()){var v=i,_=s;this._updateState({position:"fixed",stickyOffset:s,stickyTop:m,stickyThreshold:m?_:v,contentOffset:c,contentHeight:o.height})}else{var b=a-o.height-i,g=a-o.height-s,O=l.b()?"sticky":"static";this._updateState({position:O,stickyTop:d,stickyOffset:s,stickyThreshold:d?b:g,contentOffset:u?c:this.state.contentOffset,contentHeight:o.height})}}}}},n._updateState=function(e){var t=this.state.stickyTop!==e.stickyTop,n=this.state.stickyThreshold!==e.stickyThreshold,i=Math.abs(this.state.contentOffset-e.contentOffset)>.5,o=Math.abs(this.state.stickyOffset-e.stickyOffset)>.5,r=this.state.position!==e.position,a=this.state.contentHeight!==e.contentHeight;(t||n||i||o||r||a)&&this.setState(e)},t}(d.PureComponent);c()(w,"contextTypes",{viewport:f.object.isRequired}),c()(w,"defaultProps",{distanceFromBottom:10});var E=v.a.create((function(e){return{container:{height:"100%"},sticky:{position:"sticky"},fixed:{position:"fixed"},static:{position:"static"}}}))},LHcr:function(e,t,n){"use strict";n.r(t);n("PN9k");var i=n("PJYZ"),o=n.n(i),r=n("VbXa"),a=n.n(r),s=n("lSNA"),c=n.n(s),d=n("ERkP"),l=n("7JQg"),u=n("kGix"),p=n("v//M"),h=n("3XMw"),f=n.n(h),m=n("Rp9C"),v=n("rHpw"),_=n("3xO4"),y=n.n(_),b=(n("aWzz"),n("zh9S")),g=n("lP98"),O=n("RqPI"),w=n("oEGd"),E=n("0KEI"),R=n("hqKg"),T=n("G6rE"),I=function(e,t){return O.g(e)},L=function(e,t){return t.userId},S=Object(R.createSelector)((function(e,t){var n=L(0,t),i=I(e);return g.b(e,{displayLocation:"profile_accounts_sidebar",similarToUserId:n===i?void 0:n})}),I,(function(e,t){var n=L(0,t),i=I(e);return g.c(e,{displayLocation:"profile_accounts_sidebar",similarToUserId:n===i?void 0:n})}),(function(e,t){var n=T.e.select(e,t.userId);return n&&n.screen_name}),(function(e,t,n,i){return{fetchStatus:e,loggedInUserId:t,recommendations:n,screenName:i}})),x={createLocalApiErrorHandler:Object(E.b)("WHO_TO_FOLLOW_CONTAINER"),fetchRecommendationsIfNeeded:g.a,scribeAction:b.c},k=Object(w.g)(S,x),H=n("NxHW"),N=n("Re5t"),P=n("hqDb"),j=n("hxu0"),U=n("6vad"),C=n("rC8y"),D=f.a.da31f17e,A=f.a.d5ee4403,M=f.a.e05b3b2d,F=3,W=Object(l.d)({component:"who_to_follow"})(Object(j.a)((function(e){var t=e.withProfileHeaderText,n=e.screenName,i=e.userIds,o=e.isInSidebar,r=i.length>F,a="/"+n+"/who_to_follow";return d.createElement(y.a,{accessibilityLabel:D,accessibilityRole:"complementary"},d.createElement(U.a,{text:t?A:D}),d.createElement(P.a,{displayMode:N.a.UserCompact,userIds:i.slice(0,F),withItemBorder:!0}),r&&d.createElement(C.a,{interactiveStyles:o?Object(H.a)():void 0,link:a,text:M}))})));n.d(t,"WhoToFollowContainer",(function(){return z}));var K=f.a.f80c522b,B={component:"suggest_who_to_follow",element:"user",action:"results"},z=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i))||this,c()(o()(t),"_renderContent",(function(){var e=t.props,n=e.recommendations,i=e.screenName,o=e.userId,r=e.withProfileHeaderText,a=n&&n.map((function(e){return e.user}));return i?d.createElement(W,{screenName:i,userId:o,userIds:a,withProfileHeaderText:r}):null})),c()(o()(t),"_handleImpression",(function(e){var n=t.props,i=n.scribeAction,o=n.scribeNamespace;i(Object.assign({},o,{},B),{items:e&&e.slice(0,F).map((function(e){return Object.assign({},m.a.forUser(e.user),{suggestion_details:{source_data:e.token}})}))})})),t}a()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.recommendations;this._fetchRecommendations(this.props),e&&e.length>0&&this._handleImpression(e)},n.componentDidUpdate=function(e){var t=this.props.recommendations;this.props.userId!==e.userId&&this._fetchRecommendations(this.props),t!==e.recommendations&&t&&t.length>0&&this._handleImpression(t)},n.render=function(){var e=this.props,t=e.fetchStatus,n=e.style;return t===u.a.FAILED||this._hasEmptySuggestionList()?null:d.createElement(y.a,{style:[Y.root,n]},d.createElement(p.a,{accessibilityLabel:K,fetchStatus:t,render:this._renderContent}))},n._fetchRecommendations=function(e){var t=e.createLocalApiErrorHandler,n=e.fetchRecommendationsIfNeeded,i=e.userId;n({limit:4,displayLocation:"profile_accounts_sidebar",similarToUserId:i!==e.loggedInUserId?i:void 0}).catch(t({}))},n._hasEmptySuggestionList=function(){var e=this.props,t=e.fetchStatus,n=e.recommendations;return t===u.a.LOADED&&0===n.length},t}(d.PureComponent),Y=v.a.create((function(e){return{root:{minHeight:"15rem"}}}));t.default=Object(l.d)()(k(z))},lP98:function(e,t,n){"use strict";n.d(t,"c",(function(){return _})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return b}));n("yKDW"),n("dtAy"),n("PN9k");var i,o=n("/kEJ"),r=n("oEOe"),a=n("RgK2"),s=n.n(a),c=n("kGix"),d=n("Ssj5"),l="rweb/recommendations/FETCH_REQUEST",u="rweb/recommendations/FETCH_SUCCESS",p="rweb/recommendations/FETCH_FAILURE",h={},f=function(e){var t=e.displayLocation,n=e.similarToUserId;return t+(n?"_"+n:"")};d.a.register(((i={}).recommendations=function(e,t){if(void 0===e&&(e=h),!t.meta)return e;switch(t.type){case l:var n,i=f(t.meta);return Object.assign({},e,((n={})[i]=Object.assign({},e[i],{fetchStatus:c.a.LOADING}),n));case p:var o,r=f(t.meta);return Object.assign({},e,((o={})[r]=Object.assign({},e[r],{fetchStatus:c.a.FAILED}),o));case u:var a,d=f(t.meta),m=t.payload&&t.payload.entities?t.payload.entities:{recommendations:s.a},_=(t.payload&&t.payload.result?t.payload.result:v).map((function(e){return m.recommendations[e]}));return Object.assign({},e,((a={})[d]=Object.assign({},e[d],{fetchStatus:c.a.LOADED,recommendations:_}),a));default:return e}},i));var m=[],v=[],_=function(e,t){var n=t.displayLocation,i=t.similarToUserId,o=e.recommendations[f({displayLocation:n,similarToUserId:i})];return o&&o.recommendations?o.recommendations:m},y=function(e,t){var n=t.displayLocation,i=t.similarToUserId,o=e.recommendations[f({displayLocation:n,similarToUserId:i})];return o?o.fetchStatus:c.a.NONE},b=function(e){return function(t,n,i){var a=n(),d=e.displayLocation,h=e.similarToUserId,f=_(a,{displayLocation:d,similarToUserId:h}),m=y(a,{displayLocation:d,similarToUserId:h})===c.a.LOADED;return f&&m?Promise.resolve(s.a):t(function(e){return function(t,n,i){var a=i.api,s=e.displayLocation,c=e.itsInterests,d=e.limit,h=void 0===d?30:d,f=e.similarToUserId;return Object(r.b)(t,{request:a.Recommendations.fetch,params:{display_location:s,itsInterests:c,limit:h,user_id:f}})({actionTypes:{REQUEST:l,SUCCESS:u,FAILURE:p},context:"FETCH_RECOMMENDATIONS",meta:{displayLocation:s,similarToUserId:f}},(function(e){if(e)return[Object(o.b)(e.entities)]}))}}(e))}}},sAnO:function(e,t,n){"use strict";n.r(t);var i=n("97Jx"),o=n.n(i),r=(n("XDJg"),n("KYm4"),n("1Pcy")),a=n.n(r),s=n("W/Kd"),c=n.n(s),d=n("KEM+"),l=n.n(d),u=(n("PN9k"),n("ERkP")),p=n("zfvc"),h=n("jHwr"),f=n("VY6S"),m=n("w9LO"),v=n("//dC"),_=n("Oe3h"),y=n("0FVZ"),b=n("7nmT"),g=n.n(b),O=n("cHvH"),w=n("rHpw"),E=n("jdj2"),R=n.n(E),T=n("/uF9"),I=n.n(T),L=n("3xO4"),S=n.n(L),x=w.a.create((function(e){return{rootNarrow:{maxWidth:"75%"},rootWide:{maxWidth:"calc("+e.spaces.jumbo+" * 5)"},anchor:w.a.absoluteFillObject,mask:Object.assign({},w.a.absoluteFillObject,{position:"fixed"}),bodyRectHelper:Object.assign({},w.a.absoluteFillObject,{bottom:void 0}),content:{borderRadius:e.borderRadii.medium,position:"absolute",overflow:"hidden",backgroundColor:e.colors.navigationBackground,boxShadow:e.boxShadows.medium},contentInitialRender:{position:"fixed",opacity:0},contentFixed:{position:"fixed",overflowY:"auto",overscrollBehavior:"contain"}}})),k=function(e){var t=e.verticalPreference,n=e.canOrientUp,i=e.canOrientDown;return n&&i||!n&&!i?t:n?"up":"down"},H=function(e){var t=e.horizontalPreference,n=e.canOrientLeft,i=e.canOrientRight;return!n||"left"!==t&&i?"right":"left"},N=function(e){return I.a.isRTL?"left"===e?"right":"left":e},P=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,l()(a()(i),"_handleAnimateComplete",(function(){var e=i.props.onAnimateComplete;e&&e()})),l()(a()(i),"_handleEsc",(function(e){var t=i.props.onDismiss,n=e.altKey,o=e.ctrlKey,r=e.metaKey,a=e.key;!(n||o||r)&&"Escape"===a&&t()})),l()(a()(i),"_receiveBodyRectHelperRef",(function(e){var t=g.a.findDOMNode(e);t&&t instanceof window.HTMLElement&&(i._bodyRectHelperNode=t),i._scheduleUpdate()})),l()(a()(i),"_receiveAnchorRef",(function(e){var t=g.a.findDOMNode(e);t&&t instanceof window.HTMLElement&&(i._anchorNode=t),i._scheduleUpdate()})),l()(a()(i),"_receiveContentRef",(function(e){var t=g.a.findDOMNode(e);t&&t instanceof window.HTMLElement&&(i._contentNode=t),i._scheduleUpdate()})),l()(a()(i),"_updatePosition",(function(){if(i._mounted&&(i._anchorNode||i.props.position)&&i._contentNode&&i._contentNode instanceof window.HTMLElement&&i._bodyRectHelperNode&&i._bodyRectHelperNode instanceof window.HTMLElement){var e=i._contentNode.scrollHeight,t=i._contentNode.scrollWidth,n=i._bodyRectHelperNode.getBoundingClientRect(),o=n.left,r=n.top,a=n.width,s=R.a.get("window"),c=s.width,d=s.height,l={left:0,top:0,height:0,width:0};i.props.position?l=Object.assign({},l,{},i.props.position):i._anchorNode&&i._anchorNode instanceof window.HTMLElement&&(l=i._anchorNode.getBoundingClientRect());var u=l,p=u.left,h=u.top,f=u.height,m=u.width,v=c-a,_=p-o,y=h-r,b=p+m>=t,g=h+f>=e,O=c-p>=t,w=d-h>=e,E=i.props.preferredVerticalOrientation,T=N(i.props.preferredHorizontalOrientation),I=i.state.verticalOrientation||k({verticalPreference:E,canOrientUp:g,canOrientDown:w}),L=i.state.horizontalOrientation||H({horizontalPreference:T,canOrientLeft:b,canOrientRight:O}),S=i.props.isFixed?p:_,x=i.props.isFixed?h:y,P="up"===I?x+f-e:x,j="left"===L?c-S-m-v:c-S-t-v;i.setState({top:Math.max(P,0),right:j,verticalOrientation:I,horizontalOrientation:L})}})),i.state=Object.freeze({}),i._scheduleUpdate=Object(h.a)(i._updatePosition,window.requestAnimationFrame),i._scheduleDebouncedUpdate=Object(f.a)(i._scheduleUpdate,250),i}c()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._mounted=!0,R.a.addEventListener("change",this._scheduleDebouncedUpdate)},n.componentWillUnmount=function(){this._mounted=!1,R.a.removeEventListener("change",this._scheduleDebouncedUpdate)},n.render=function(){var e=this,t=this.props,n=t.children,i=t.isFixed,r=t.onDismiss,a=t.animateInDuration,s=t.animateType,c=t.withKeyboardNavigation,d=this.state,l=d.top,h=d.right,f=d.verticalOrientation,b=void 0===l,g="calc(100vh - "+(l||0)+"px)",E=[x.content,b&&x.contentInitialRender,i&&[x.contentFixed,{maxHeight:g}],{top:l,right:I.a.isRTL?void 0:h,left:I.a.isRTL?h:void 0}];return u.createElement(S.a,{ref:this._receiveAnchorRef,style:x.anchor},u.createElement(y.a.Dropdown,null,u.createElement(v.a,{onDismiss:r},u.createElement(m.a,{withKeyboardNavigation:c},u.createElement(S.a,{onClick:r,style:x.mask}),u.createElement(S.a,{ref:this._receiveBodyRectHelperRef,style:x.bodyRectHelper}),u.createElement(O.a,null,(function(t){var i=t.windowWidth;return u.createElement(S.a,{accessibilityRole:"menu",onKeyUp:e._handleEsc,ref:e._receiveContentRef,style:[i<w.a.theme.breakpoints.medium?x.rootNarrow:x.rootWide,E]},b&&"slide"===s?n:u.createElement(p.b,{animateMount:"up"!==f,duration:a,onAnimateComplete:e._handleAnimateComplete,show:!0,type:s},(function(e){var t=e.isAnimating;return u.createElement(_.a,{disableReporting:t},(function(e,t){return u.createElement(S.a,o()({ref:e()},t({})),n)}))})))}))))))},t}(u.Component);l()(P,"defaultProps",{preferredHorizontalOrientation:"left",preferredVerticalOrientation:"down",animateType:"slide",animateInDuration:"normal",withKeyboardNavigation:!0});t.default=P},uo3S:function(e,t,n){"use strict";n.r(t);var i=n("RIqP"),o=n.n(i),r=n("oEGd"),a=n("hqKg"),s=n("Olyj"),c=n("XOJV"),d=n("s1N3"),l=Object(a.createSelector)((function(e){return c.a.selectAll(e)}),(function(e,t){return t.focalTweetId}),(function(e,t){var n=t&&e[t];if(!n)return[];var i=[n.user].concat(o()(u(n)),o()(p(n))),r=n.quoted_status&&e[n.quoted_status];return r&&(i.push(r.user),i.push.apply(i,o()(u(r)))),Object(d.a)(i)})),u=function(e){var t=e.entities.user_mentions;return(void 0===t?[]:t).map((function(e){return e.id_str}))},p=function(e){return Object(s.a)(e.extended_entities&&e.extended_entities.media||[]).map((function(e){return e.user_id}))},h=Object(a.createSelector)(l,(function(e){return{participantIds:e}})),f=Object(r.c)(h),m=n("ERkP"),v=n("3XMw"),_=n.n(v),y=n("6vad"),b=n("hqDb"),g=n("3xO4"),O=n.n(g),w=_.a.c915c2d0,E=function(e){var t=e.maxCount,n=e.participantIds;return m.createElement(O.a,{accessibilityLabel:w,accessibilityRole:"complementary"},m.createElement(y.a,{text:w}),m.createElement(b.a,{userIds:n.slice(0,t),withFinalItemBorder:!1,withItemBorder:!0}))};E.defaultProps={maxCount:3};var R=E;t.default=f(R)}}]);
//# sourceMappingURL=https://ton.smf1.twitter.com/responsive-web-internal/sourcemaps/web/loader.WideLayout.b672c3d4.js.map